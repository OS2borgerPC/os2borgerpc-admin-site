<th onclick="{{ action }}" class="orderby order-desc" id="order-{{ slug }}">
    <span class="d-flex align-items-center">
      {{ label }}
      <span class="material-icons">
        arrow_drop_down
      </span>
    </span>
    <script>
      
        window.addEventListener('load', function() {
    
            // Script to cosmetically change the layout of little sorting arrows
            // The <th>'s onclick="{{ action }}" does the actual sorting
            document.getElementById('order-{{ slug }}').addEventListener('click', function(ev) {
            
                this.classList.toggle('order-desc')
                this.classList.toggle('order-asc')
                
                if (this.classList.contains('order-asc')) {
                    this.querySelector('.material-icons').innerText = 'arrow_drop_up'
                } else {
                    this.querySelector('.material-icons').innerText = 'arrow_drop_down'
                }
        
                document.querySelectorAll('.orderby').forEach(element => { 
                    if (this !== element) {
                        element.querySelector('.material-icons').innerText = 'arrow_drop_down'
                        element.classList.remove('order-asc')
                        element.classList.add('order-desc')
                    }
                })
            })
        })
    </script>
</th>
  