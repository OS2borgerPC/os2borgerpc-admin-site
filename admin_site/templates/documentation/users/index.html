{% extends 'documentation/index.html' %}
{% load i18n %}
{% load custom_tags %}

{% block specific_content %}
  <h1>{% translate "Administrating users" %}</h1>
  <p>
    {% blocktranslate trimmed %}
    When you click on "Users" in the left-hand menu, you will be shown a list
    of users to the right of the left-hand menu. The editing interface for
    the chosen user will be shown to the right of the list. If no users
    exist for the chosen site, you will be shown a form for creating users
    instead.
    {% endblocktranslate %}
  </p>
  <h2>{% translate "Editing" %}</h2>
  <p>
    {% blocktranslate trimmed %}
    If you wish to edit a user, you must click on that user in the list of
    users. It will now be possible to change the user's username, password,
    email address, usertype and language. Note that only users with the
    usertype "Site Admin" or "Customer Admin" can change a user's usertype.
    Furthermore, if your usertype is "Site User", you will only be
    able to edit your own user. Users with the usertype "Customer Admin"
    can also only be seen and edited by other "Customer Admins". The fields
    are explained below:
    {% endblocktranslate %}
  </p>
  <p>
    <ul>
      <li>
        <strong>{% translate "Username" %}</strong>:
        {% blocktranslate trimmed %}
        This is the username that the user must use when they log in to the
        admin-site. It can be no more than 150 characters long and can only
        contain numbers, letters and the special characters
        {% endblocktranslate %}
        <strong>@</strong>, <strong>.</strong>,
        <strong>+</strong>, <strong>-</strong> {% translate "and" %} <strong>_</strong>.
      </li>
      <li>
        <strong>{% translate "Password" %}</strong>:
        {% blocktranslate trimmed %}
        Here you can change the user's password. To ensure that the
        password is entered correctly, it must be entered twice. If the
        fields are left empty, the password will remain unchanged.
        When creating a new user, it is mandatory to specify a password.
        {% endblocktranslate %}
      </li>
      <li>
        <strong>{% translate "Email address" %}</strong>:
        {% translate "Here you can enter the user's email address. It is optional." %}
      </li>
      <li>
        <strong>{% translate "Usertype" %}</strong>:
        {% translate "The options in this field depend on your own usertype" %}:
        <br>
        {% translate "Usertypes"|italic as ut %}
        {% blocktranslate trimmed %}
        Site Users are not allowed to edit {{ut}}.
        {% endblocktranslate %}
        <br/>
        {% blocktranslate trimmed %}
        The different {{ut}} are described further down.
        {% endblocktranslate %}
      </li>
      <li>
        <strong>{% translate "Language" %}</strong>:
        {% translate "The user's language setting." %}
      </li>
    </ul>
  </p>
  <p>
    {% blocktranslate trimmed %}
    Changes do not take effect until you've clicked on the button
    "Save changes" at the bottom of the page.
    {% endblocktranslate %}
  </p>

  <h2>{% translate "Add existing users to this site" %}</h2>
  <p>
    {% blocktranslate trimmed %}
    If you are a customer admin, and you wish to add an existing user to the site, you must click on the
    button "Add existing users to this site" above the list of users. This will open a
    form where you can select the user(s) that you wish to add. It will only be possible to select users
    that do not already have access to the site. You must hold down Ctrl to select more than one user.
    When you have selected the desired user(s), you must choose the usertype that they should be added with.
    This can be either Site User or Site Admin. When you fill out the fields and then click "Save changes",
    the selected user(s) will be added to the site with the selected usertype, and you will be redirected
    to an empty form for adding more existing users to the site.
    Only "Customer Admins" can add existing users to a site.
    {% endblocktranslate %}
  </p>


  <h2>{% translate "Creating a new user" %}</h2>
  <p>
    {% blocktranslate trimmed %}
    If you wish to create a new user, you must click on the button
    "Add new user" above the list of users. This will open the form for
    creating a new user, which has the same fields as the interface for
    editing a user. When you fill out the fields and click "Save changes",
    the user will be created, and you will be redirected to the editing
    interface for the newly created user.
    Both "Site Admins" and "Customer Admins" can create new users.
    {% endblocktranslate %}
  </p>
  <h2>{% translate "Deleting a user" %}</h2>
  <p>
    {% blocktranslate trimmed %}
    If you wish to delete a user, you must select the user and then click
    on the X to the right of the selected user in the list of users. You will
    then be asked to confirm the deletion and if you do so, the user will be
    deleted. Both "Site Admins" and "Customer Admins" can delete users.
    However, users with the usertype "Customer Admin" cannot be deleted
    without first changing them to a different usertype.
    {% endblocktranslate %}
  </p>
  <h2>{% translate "Permissions for Usertypes" %}</h2>
  <table class="table w-100">
    <thead class="table-dark">
      <tr>
        <td>{% translate "Usertype" %}</td>
        <td>{% translate "Users" %}</td>
        <td>{% translate "Scripts" %}</td>
        <td>{% translate "Security Rules" %}</td>
        <td>{% translate "Groups" %}</td>
        <td>{% translate "Computers" %}</td>
        <td>{% translate "Sites" %}</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>{% translate "Customer Admin" %}</td>
        <td>{% translate "All permissions, except deleting Customer Admins" %}</td>
        <td>{% translate "All permissions" %}</td>
        <td>{% translate "All permissions" %}</td>
        <td>{% translate "All permissions" %}</td>
        <td>{% translate "All permissions" %}</td>
        <td>{% translate "All permissions" %}</td>
      </tr>
      <tr>
        <td>{% translate "Site Admin" %}</td>
        <td>{% blocktranslate trimmed %}
              Can create, edit and delete users except Customer Admins.
              Cannot change a user's usertype to Customer Admin.
              Cannot add existing users to a site.{% endblocktranslate %}</td>
        <td>{% translate "All permissions" %}</td>
        <td>{% translate "All permissions" %}</td>
        <td>{% translate "All permissions" %}</td>
        <td>{% translate "All permissions" %}</td>
        <td>{% translate "Can edit site settings. Cannot create or delete sites." %}</td>
      </tr>
      <tr>
        <td>{% translate "Site User" %}</td>
        <td>{% translate "Can edit their own user, except their usertype. Cannot create, delete or edit other users." %}</td>
        <td>{% translate "Can run, create and edit scripts. Cannot delete scripts." %}</td>
        <td>{% translate "Can create and edit security rules. Cannot delete security rules." %}</td>
        <td>{% translate "All permissions" %}</td>
        <td>{% translate "All permissions" %}</td>
        <td>{% translate "Can edit site settings. Cannot create or delete sites." %}</td>
      </tr>
    </tbody>
  </table>
{% endblock %}
